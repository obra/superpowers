# 任务2: 全面中文适配

> **创建日期**: 2026-01-15
> **状态**: 规划中
> **优先级**: 高

---

## 📋 任务概述

将整个项目适配为中文优先的用户体验，确保在中文语境下能够正常、流畅地使用。

### 适配范围

| 类别 | 需要适配的内容 |
|------|----------------|
| **用户界面** | 技能描述、提示信息、错误消息 |
| **文档** | README、技能文档、指南 |
| **技能触发** | 自然语言触发条件 |
| **示例代码** | 代码注释、变量命名示例 |
| **交互流程** | 用户询问、确认提示 |

---

## 🎯 详细检查清单

### 1. 核心技能文档适配

#### 1.1 技能元数据（YAML Frontmatter）
每个技能的 `description` 字段需要支持中文触发：

**示例改造**：
```yaml
---
name: brainstorming
# 原: Use when you need to refine ideas through questions
description: 当你需要通过提问来完善想法时使用此技能
---

# 头脑风暴

## Overview
...
```

**需要适配的技能**：
- [ ] `brainstorming` - 头脑风暴
- [ ] `using-superpowers` → `using-horspower` - 使用指南
- [ ] `writing-plans` - 编写计划
- [ ] `test-driven-development` - 测试驱动开发
- [ ] `executing-plans` - 执行计划
- [ ] `subagent-driven-development` - 子代理驱动开发
- [ ] `systematic-debugging` - 系统化调试
- [ ] `finishing-a-development-branch` - 完成开发分支
- [ ] `using-git-worktrees` - 使用 Git Worktrees
- [ ] `receiving-code-review` - 接收代码审查
- [ ] `requesting-code-review` - 请求代码审查
- [ ] `writing-skills` - 编写技能

#### 1.2 技能内容本地化
每个技能的主体内容需要：
- [ ] 章节标题双语化或中文化
- [ ] 流程说明使用中文
- [ ] 示例对话使用中文场景
- [ ] 保留关键术语的英文原文（如 TDD、Git、rebase）

---

### 2. 文档系统适配

#### 2.1 README.md
**需要添加的内容**：
```markdown
## 简体中文

本项目提供完整的中文支持：

- ✅ 所有技能支持中文触发
- ✅ 中文文档和示例
- ✅ 中文友好的交互流程

[中文文档](docs/zh/) | [English](#english)
```

**适配要求**：
- [ ] 添加中文介绍段落
- [ ] 中文安装指南
- [ ] 中文快速开始示例
- [ ] 常见问题中文版

#### 2.2 CLAUDE.md
**关键适配**：
```markdown
## Personal Rule
Always respond in *Simplified Chinese/中文*
```

**需要检查**：
- [ ] 项目概述是否准确反映中文功能
- [ ] 技能列表是否有中文名称
- [ ] 示例命令是否包含中文场景

#### 2.3 技能参考卡片
为每个技能创建中文参考卡片：

```markdown
## 技能速查表

| 技能 | 中文名称 | 触发条件 |
|------|---------|---------|
| brainstorming | 头脑风暴 | 当你需要完善想法时 |
| writing-plans | 编写计划 | 当需要详细实施计划时 |
| tdd | 测试驱动开发 | 当需要先写测试时 |
...
```

---

### 3. 技能触发条件优化

#### 3.1 中文触发词
为每个技能添加中文触发场景：

**brainstorming 示例**：
```yaml
---
description: |
  当你需要通过提问来完善想法时使用此技能

  中文触发场景：
  - "帮我想想这个功能的实现方案"
  - "这个需求我该怎么设计？"
  - "帮我理清思路"
  - "我想做个XXX，有什么建议？"

  English triggers:
  - "I need to refine my idea"
  - "Help me think through this"
---
```

#### 3.2 自然语言模式
识别中文开发中的常见表达：

| 开发场景 | 中文表达 | 应触发技能 |
|---------|---------|-----------|
| 需求讨论 | "帮我设计一下..." | brainstorming |
| 开始实现 | "怎么实现这个功能？" | writing-plans |
| 遇到 bug | "这里有个问题..." | systematic-debugging |
| 完成功能 | "功能做完了" | finishing-a-development-branch |
| 需要测试 | "怎么测试这个？" | test-driven-development |

---

### 4. 交互流程适配

#### 4.1 AskUserQuestion 中文化
确保所有用户交互使用中文：

```javascript
// 不好的示例
AskUserQuestion({
  questions: [{
    question: "Which approach do you prefer?",
    header: "Approach",
    options: [...]
  }]
})

// 好的示例
AskUserQuestion({
  questions: [{
    question: "你更倾向于哪种实现方案？",
    header: "实现方案",
    options: [...]
  }]
})
```

#### 4.2 错误提示中文化
技能中的错误处理需要中文提示：

```markdown
## 错误处理

### 测试失败
❌ 测试失败，发现 3 个错误

请选择：
1. 查看详细错误信息
2. 尝试自动修复
3. 暂时跳过测试
```

---

### 5. 代码示例适配

#### 5.1 注释中文化
技能文档中的代码示例：

```typescript
// 创建配置项
const config = {
  name: "我的项目",
  version: "1.0.0"
}

// 添加中文注释说明关键逻辑
// 1. 首先检查缓存
// 2. 如果没有缓存，则从 API 获取
// 3. 最后将结果存入缓存
```

#### 5.2 变量命名
在示例中展示中文友好的命名风格：

```typescript
// 推荐的命名示例（业务逻辑）
interface 用户配置 {
  用户名: string
  偏好设置: Preferences
}

// 但技术术语保持英文
interface UserConfig {
  username: string
  preferences: Preferences
  webhookUrl: string  // 技术术语
}
```

---

### 6. 特殊中文场景适配

#### 6.1 Git Commit Message
支持中文 commit message：

```bash
# 有效的中文 commit
feat(用户系统): 添加微信登录功能

- 新增微信 OAuth 集成
- 添加用户绑定逻辑
- 更新 API 文档
```

#### 6.2 代码审查
中文代码审查场景：

```markdown
## 代码审查反馈

### 问题
1. `getUserInfo` 函数的类型定义不够严格
2. 建议将 `data: any` 改为 `data: unknown`

### 建议
考虑使用 Zod 或类似库进行运行时验证
```

#### 6.3 调试和日志
中文友好的调试信息：

```typescript
logger.debug("开始处理用户请求", { userId })
logger.info("数据库连接成功")
logger.error("API 调用失败", { url, error })
```

---

## 📝 执行步骤

### Phase 1: 核心技能适配（优先级高）
1. `brainstorming` - 中文触发和描述
2. `writing-plans` - 中文计划模板
3. `test-driven-development` - 中文测试流程
4. `systematic-debugging` - 中文调试步骤

### Phase 2: 文档系统适配
1. README.md 添加中文部分
2. 创建中文技能速查表
3. 翻译核心概念说明

### Phase 3: 交互流程优化
1. 统一错误提示为中文
2. 优化 AskUserQuestion 的中文表达
3. 添加中文使用示例

### Phase 4: 测试和验证
1. 测试中文技能触发
2. 验证中文交互流程
3. 收集用户反馈

### Phase 5: 持续改进
1. 根据使用反馈优化
2. 添加更多中文示例
3. 完善中文术语表

---

## 📊 中文适配优先级

| 优先级 | 内容 | 预计工作量 | 价值 |
|--------|------|-----------|------|
| P0 | 技能描述 YAML frontmatter | 2-3 小时 | ⭐⭐⭐⭐⭐ |
| P0 | CLAUDE.md 中文规则确认 | 30 分钟 | ⭐⭐⭐⭐⭐ |
| P1 | 核心技能内容中文化 | 4-6 小时 | ⭐⭐⭐⭐ |
| P1 | README 中文部分 | 2 小时 | ⭐⭐⭐⭐ |
| P2 | 代码示例中文化 | 2-3 小时 | ⭐⭐⭐ |
| P2 | 交互提示优化 | 2 小时 | ⭐⭐⭐ |
| P3 | 完整中文文档翻译 | 8-10 小时 | ⭐⭐ |

---

## ✅ 验证清单

### 基础验证
- [ ] 所有技能 description 包含中文触发条件
- [ ] CLAUDE.md 包含中文响应规则
- [ ] README 有中文介绍

### 功能验证
- [ ] 中文指令能正确触发技能
- [ ] 技能执行过程中使用中文交互
- [ ] 错误提示使用中文
- [ ] 示例代码包含中文注释

### 质量验证
- [ ] 中文表达自然流畅
- [ ] 技术术语使用准确
- [ ] 保留必要的英文原文

---

## 🎨 中文风格指南

### 语气和风格
- **友好自然**：避免生硬的机器翻译
- **专业准确**：技术术语保持英文
- **简洁明了**：避免冗长的描述

### 术语处理原则
| 类型 | 处理方式 | 示例 |
|------|---------|------|
| 技术术语 | 保留英文 | Git, rebase, commit |
| 命令/代码 | 保留原文 | `git status` |
| UI 文本 | 中文化 | "提交更改" |
| 概念解释 | 中文 + 英文原文 | "分支 (Branch)" |

### 标点符号
- 代码和命令：使用英文标点
- 中文说明：使用中文标点
- 混合场景：遵循中文排版规范

---

## 📚 附录：中文术语对照表

| 英文 | 中文 | 说明 |
|------|------|------|
| Skill | 技能 | 基本功能单元 |
| Workflow | 工作流 | 一系列操作流程 |
| Branch | 分支 | Git 分支 |
| Commit | 提交 | Git 提交 |
| Merge | 合并 | 合并代码 |
| Rebase | 变基 | Git rebase |
| PR/MR | 拉取请求 | Pull/Merge Request |
| Lint | 代码检查 | 代码静态分析 |
| Type Check | 类型检查 | TypeScript 类型检查 |
| Test | 测试 | 单元测试等 |
| Debug | 调试 | 问题排查 |
| Deploy | 部署 | 发布上线 |

---

**创建日期**: 2026-01-15
**预计完成**: TBD
